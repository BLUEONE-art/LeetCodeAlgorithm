//ç»™å®šä¸€äº›æ ‡è®°äº†å®½åº¦å’Œé«˜åº¦çš„ä¿¡å°ï¼Œå®½åº¦å’Œé«˜åº¦ä»¥æ•´æ•°å¯¹å½¢å¼ (w, h) å‡ºç°ã€‚å½“å¦ä¸€ä¸ªä¿¡å°çš„å®½åº¦å’Œé«˜åº¦éƒ½æ¯”è¿™ä¸ªä¿¡å°å¤§çš„æ—¶å€™ï¼Œè¿™ä¸ªä¿¡å°å°±å¯ä»¥æ”¾è¿›å¦ä¸€ä¸ªä¿¡å°é‡Œï¼Œå¦‚
//åŒä¿„ç½—æ–¯å¥—å¨ƒä¸€æ ·ã€‚ 
//
// è¯·è®¡ç®—æœ€å¤šèƒ½æœ‰å¤šå°‘ä¸ªä¿¡å°èƒ½ç»„æˆä¸€ç»„â€œä¿„ç½—æ–¯å¥—å¨ƒâ€ä¿¡å°ï¼ˆå³å¯ä»¥æŠŠä¸€ä¸ªä¿¡å°æ”¾åˆ°å¦ä¸€ä¸ªä¿¡å°é‡Œé¢ï¼‰ã€‚ 
//
// è¯´æ˜: 
//ä¸å…è®¸æ—‹è½¬ä¿¡å°ã€‚ 
//
// ç¤ºä¾‹: 
//
// è¾“å…¥: envelopes = [[5,4],[6,4],[6,7],[2,3]]
//è¾“å‡º: 3 
//è§£é‡Š: æœ€å¤šä¿¡å°çš„ä¸ªæ•°ä¸º 3, ç»„åˆä¸º: [2,3] => [5,4] => [6,7]ã€‚
// 
// Related Topics äºŒåˆ†æŸ¥æ‰¾ åŠ¨æ€è§„åˆ’ 
// ğŸ‘ 265 ğŸ‘ 0


//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
    /* ä¿„ç½—æ–¯å¥—å¨ƒä¿¡å°é—®é¢˜ */
    public int maxEnvelopes(int[][] envelopes) {
        // æ ¸å¿ƒæ€æƒ³ï¼šå¯¹äºäºŒç»´çš„ä¿¡å°ï¼Œæœ‰å®½åº¦ W å’Œé«˜åº¦ H
        // â‘ æŒ‰å®½åº¦ W è¿›è¡Œå‡åºæ’åºï¼šå®½åº¦è¶Šæ¥è¶Šå¤§æ‰èƒ½è¿›è¡ŒåµŒå¥—
        // â‘¡å½“å®½åº¦ W ç›¸åŒçš„æ—¶å€™ï¼Œé«˜åº¦ H é™åºæ’åºï¼šå› ä¸ºå®½åº¦ç›¸åŒçš„ä¿¡å°ä¸èƒ½åµŒå¥—ï¼Œåªèƒ½ä»ä¸­é€‰æ‹©ä¸€å°
        // â‘¢æ±‚é«˜åº¦ H çš„æœ€é•¿é€’å¢å­åºåˆ—å°±æ˜¯å¯ä»¥åµŒå¥—çš„ä¿¡å°æ•°é‡

        int n = envelopes.length; // è·å¾—äºŒç»´æ•°ç»„çš„è¡Œæ•°ï¼Œå°±ç›¸å½“æ¯ä¸€åˆ—æœ‰å¤šå°‘ä¸ªæ•°
        Arrays.sort(envelopes, new Comparator<int[]>()
                // æ³¨æ„compare æ’åºä¸­é»˜è®¤å‡åº
                // è¿”å› 1 == true ä»£è¡¨é™åºï¼Œæˆ‘æƒ³è°ƒæ•´é¡ºåº
                // è¿”å› -1 ä»£è¡¨å‡åº
        {
            public int compare(int[] a, int[] b) {
                // é»˜è®¤å‡åºï¼ša[0] - b[0] < 0 = -1ï¼Œç¬¬ 0 åˆ—æŒ‰å‡åºå¤„ç†
                // b[1] - a[1] > 0 = 1ï¼Œç¬¬ 1 åˆ—æŒ‰é™åºå¤„ç†
                return a[0] == b[0] ?
                        b[1] - a[1] : a[0] - b[0];
            }
        });
        // è·å¾—æ’åºå¥½çš„ envelope æ•°ç»„çš„ç¬¬ 2 åˆ—
        int[] height = new int[n];
        for (int i = 0; i < n; i++) {
            height[i] = envelopes[i][1];
        }
        // æ±‚ height ä¸­çš„æœ€é•¿é€’å¢å­åºåˆ—
        int[] dp = new int[height.length];
        // base case
        Arrays.fill(dp, 1);
        for (int i = 0; i < height.length; i++) {
            for (int j = 0; j < i; j++) {
                if (height[i] > height[j]) {
                    int tmp = dp[j] + 1; //æ‰¾åˆ°ä¸€ä¸ªå‡åºçš„äº†ï¼Œå…ˆè®© dp[j] + 1
                    dp[i] = Math.max(dp[i], tmp); // å†æ¯”è¾ƒ
                }
            }
        }
        // dp æ•°ç»„ä¸­çš„æœ€å¤§å€¼å³ä¸ºæ‰€æ±‚
        int res = 0;
        for (int i = 0; i < dp.length; i++) {
            res = Math.max(res, dp[i]);
        }
        return res;
    }
}
//leetcode submit region end(Prohibit modification and deletion)
